<!DOCTYPE html>
<html lang="cs">
    {include "_snippets/head.latte"}

    <body>
        {include "_snippets/menu.latte"}
        _snippets/menu.latte
        <div id="article">
            <div class="container">
                <h1 class="h2 text-center">{$post['title']}</h1>

                <div class="row text-center">
                    <div class="col-md-12">
                        {include "_snippets/post/postMetadataLine.latte", "post" => $post}
                    </div>
                </div>

                <br>

                <div id="article-content">
                    <p class="perex">{$post['perex']|noescape}</p>

                    {$post['content']|noescape}
                </div>
            </div>

            <br>

            <div class="intermezzo">
                <div class="container">
                    {include relatedPosts, 'post' => $post}
                </div>
            </div>

            <div class="container">
                {include "_snippets/disqusComments.latte", 'post' => $post, 'showCommentCount' => true}
            </div>

            <br>
        </div>

        <script src="/assets/prism/prism.js"></script>
        <script id="dsq-count-scr" src="https://{$disqus_name}.disqus.com/count.js" async defer></script>

        {include "_snippets/footer.latte"}

        {include "_snippets/googleAnalytics.latte"}
        {include "_snippets/facebookPixel.latte"}
    </body>
</html>


{block socialTags}
    {* Facebook sharing *}
    <meta property="og:type" content="article" />
    <meta property="og:title" content="{$post['title']}" />
    <meta property="og:description" content="{$post['perex']|striptags}" />
    <meta property="og:url" content="{$site_url}/{$post['relativeUrl']}/" />

    {* Twitter sharing *}
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="{$post['title']}" />
    <meta name="twitter:description" content="{$post['perex']|striptags}" />
{/block}


{block additionalCss}
    <link href="/assets/prism/prism.css?v=0.1" rel="stylesheet" type="text/css" />
    <link href="/assets/prism/prism-custom.css?v=0.1" rel="stylesheet" type="text/css" />
{/block}


{define relatedPosts}
    {var $relatedPosts = ($post|relatedItems)}

    {if count($relatedPosts)}
        <h2>You Might Also Like</h2>

        <ul id="related-posts">
            {foreach $relatedPosts as $relatedPost}
                <li>
                    <a href="/{$relatedPost['relativeUrl']}">{$relatedPost['title']} &raquo;</a>
                </li>
            {/foreach}
        </ul>
    {/if}
{/define}
